# Bitcoin

## Bitcoin 交易处理的7个步骤

1、用户通过自己的钱包APP（轻客户端） 发起并签名一笔交易；

2、钱包APP 会发送交易到就近的矿工节点，矿工节点验证交易之后会放到本地“未被确认的交易池”中，并广播给其他节点（其他节点收到后也会放到本地的“未被确认的交易池”中）；

3、网络中的矿工会从交易池中选择交易并打包到本地区块内；

4、矿工需要本地挖矿，通过不断调整 nonce 值来找到满足 difficulty 的区块头 Hash 值；

5、算出有效的区块头 Hash 值之后，矿工会广播给其他节点；

6、其他节点收到区块后会首先验证区块是否有效，如果有效就加到本地的区块链上；

7、如果多数矿工都对这个块达成共识（会加到本地的区块链上）可以认为该区块内的交易上链了，但最终的确认还需要等待一定的区块高度（和下面讲的双花攻击相关）。

# HyperLedger Fabric
